{"ast":null,"code":"import _regeneratorRuntime from\"D:/TODO_new/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/TODO_new/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"D:/TODO_new/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/TODO_new/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/TODO_new/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'./signup.css';import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import{useDispatch}from\"react-redux\";import{authActions}from'../../store';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Signin=function Signin(){var dispatch=useDispatch();var history=useNavigate();var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),Inputs=_useState2[0],setInputs=_useState2[1];var change=function change(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;// email: \"yoyo@gmail.com\", username: \"wohooo\", password: \"nanana\"  [name]->emaail:value->{Inputs.email}\nsetInputs(_objectSpread(_objectSpread({},Inputs),{},_defineProperty({},name,value)));};var Submit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axios.post(\"\".concat(window.location.origin,\"/api/v1/signin\"),Inputs);case 4:response=_context.sent;console.log(\"Response data:\",response.data);if(response.data){sessionStorage.setItem(\"id\",response.data.user._id);// Assuming user ID is at _id\ndispatch(authActions.login());history(\"/todo\");}else{console.error(\"Unexpected response format:\",response);}_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.error(\"An error occurred:\",_context.t0);case 12:case\"end\":return _context.stop();}},_callee,null,[[1,9]]);}));return function Submit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"signup\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container d-flex justify-content-center align-items-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-8 column d-flex justify-content-center align-items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column  w-xl-75 w-100  p-3\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"p-2 my-3 input-signup w-100\",type:\"email\",name:\"email\",placeholder:\"Enter Your Email\",value:Inputs.email,onChange:change}),/*#__PURE__*/_jsx(\"input\",{className:\"p-2 my-3 input-signup w-100\",type:\"password\",name:\"password\",placeholder:\"Enter Your Password\",value:Inputs.password,onChange:change}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-signup p-2\",onClick:Submit,children:\"Sign In\"})]})})})});};export default Signin;","map":{"version":3,"names":["React","useState","useNavigate","axios","useDispatch","authActions","jsx","_jsx","jsxs","_jsxs","Signin","dispatch","history","_useState","email","password","_useState2","_slicedToArray","Inputs","setInputs","change","e","_e$target","target","name","value","_objectSpread","_defineProperty","Submit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","preventDefault","post","concat","window","location","origin","sent","console","log","data","sessionStorage","setItem","user","_id","login","error","t0","stop","_x","apply","arguments","className","children","type","placeholder","onChange","onClick"],"sources":["D:/TODO_new/frontend/src/components/signup/signin.jsx"],"sourcesContent":["import React,{useState} from 'react';\r\nimport './signup.css';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nimport {useDispatch} from \"react-redux\"\r\nimport {authActions} from '../../store'\r\n\r\nconst Signin = () => {\r\n  const dispatch=useDispatch()\r\n  const history=useNavigate();\r\n  const [Inputs, setInputs] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const change=(e)=>{\r\n    const  {name,value}=e.target;\r\n    // email: \"yoyo@gmail.com\", username: \"wohooo\", password: \"nanana\"  [name]->emaail:value->{Inputs.email}\r\n    setInputs({...Inputs,[name]:value})\r\n  }\r\n  const Submit = async (e) => {\r\n    e.preventDefault();\r\n  try {\r\n    const response = await axios.post(\r\n      `${window.location.origin}/api/v1/signin`,\r\n      Inputs\r\n    );\r\n    console.log(\"Response data:\", response.data);\r\n\r\n    if (response.data) {\r\n      sessionStorage.setItem(\"id\", response.data.user._id); // Assuming user ID is at _id\r\n      dispatch(authActions.login());\r\n      history(\"/todo\");\r\n    } else {\r\n      console.error(\"Unexpected response format:\", response);\r\n    }\r\n  } catch (error) {\r\n    console.error(\"An error occurred:\", error);\r\n  }\r\n};\r\n  return (\r\n    <div className=\"signup\">\r\n      <div className=\"container d-flex justify-content-center align-items-center\">\r\n        <div className=\"col-lg-8 column d-flex justify-content-center align-items-center\">\r\n          <div className=\"d-flex flex-column  w-xl-75 w-100  p-3\">\r\n            <input className=\"p-2 my-3 input-signup w-100\" type=\"email\" name=\"email\" placeholder=\"Enter Your Email\" value={Inputs.email} onChange={change} />\r\n            <input className=\"p-2 my-3 input-signup w-100\" type=\"password\" name=\"password\" placeholder=\"Enter Your Password\"   value={Inputs.password} onChange={change} />\r\n            <button className=\"btn-signup p-2\" onClick={Submit}>\r\n              Sign In\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Signin;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}